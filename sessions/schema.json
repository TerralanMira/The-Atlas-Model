{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Atlas Conductor Session Schema",
  "description": "Schema for logging resonance sessions (plaza, garden, hearth, etc.)",
  "type": "object",
  "properties": {
    "ts": {
      "type": "string",
      "description": "ISO8601 timestamp of session start"
    },
    "location": {
      "type": "string",
      "description": "Location name or node ID (e.g., Plaza A)"
    },
    "mode_antinode": {
      "type": "string",
      "description": "Field placement (e.g., M1-center, M2-edge)"
    },
    "anchor": {
      "type": "object",
      "description": "Anchor details (e.g., Schumann driver)",
      "properties": {
        "type": {"type": "string"},
        "freq": {"type": "number"},
        "gain": {"type": "number"}
      },
      "required": ["type", "freq"]
    },
    "intent": {
      "type": "string",
      "description": "One-line intent statement offered at alignment"
    },
    "R_pre": {"type": "number"},
    "R_post": {"type": "number"},
    "hrv_rmssd_pre": {"type": "number"},
    "hrv_rmssd_post": {"type": "number"},
    "signals": {
      "type": "object",
      "description": "Awareness signal values (0â€“1)",
      "properties": {
        "I": {"type": "number"},
        "Psi": {"type": "number"},
        "H": {"type": "number"},
        "S": {"type": "number"},
        "W": {"type": "number"},
        "pi": {"type": "number"},
        "beta_echo": {"type": "number"}
      }
    },
    "decision": {
      "type": "object",
      "properties": {
        "status": {"type": "string"},
        "choice": {"type": "string"}
      }
    },
    "notes": {
      "type": "string",
      "description": "Freeform notes, observations, anomalies"
    },
    "ethics": {
      "type": "object",
      "properties": {
        "consent": {"type": "boolean"},
        "recording": {"type": "boolean"}
      }
    }
  },
  "required": ["ts", "location", "intent", "R_pre", "R_post", "ethics"]
}
